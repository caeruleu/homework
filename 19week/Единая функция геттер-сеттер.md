# Единая функция геттер-сеттер

Для большего удобства иногда делают единый метод, который работает и как сеттер (осуществляет запись), и как геттер (осуществляет возврат значения аргумента).

При вызове без параметров такой метод возвращает свойство, а при передаче параметра – назначает его.

```jsx
function CoffeeMachine(power, capacity) {
  var waterAmount = 0;

  this.waterAmount = function(amount) {
    // вызов без параметра, значит режим геттера, возвращаем свойство
    if (!arguments.length) return waterAmount;

    // иначе режим сеттера
    if (amount < 0) {
      throw new Error("Значение должно быть положительным");
    }
    if (amount > capacity) {
      throw new Error("Нельзя залить воды больше, чем " + capacity);
    }

    waterAmount = amount;
  };

}

var coffeeMachine = new CoffeeMachine(1000, 500);

// пример использования
coffeeMachine.waterAmount(450);
alert( coffeeMachine.waterAmount() ); // 450
```

Единый геттер-сеттер используется реже, чем две отдельные функции, но в некоторых JavaScript-библиотеках, например jQuery и D3, подобный подход принят на уровне концепта.

```jsx
function Audioplay(volume){  
	var _volume = 0;  
	function validVolume(volume) {  
		if (volume>=0 && volume<=100){  
			_volume = volume;  
		}  
	}  
	validVolume(volume);  

	this.getSetVolume = function (volume){  
		if (volume === undefined){  
			return _volume;  
		}  else validVolume(volume);  
	}  
}  

var audio = new Audioplay(3);  

console.log(audio.getSetVolume());  
audio.getSetVolume(5);  
console.log(audio.getSetVolume());  
audio.getSetVolume(99);  
console.log(audio.getSetVolume());
```